- name: Everbase
  nodetype: namespace
  members:
    - name: CoreSystem
      nodetype: namespace
      members:
        - name: Profile
          nodetype: class
          doc: { brief: 'Is an device local element for managing the users credentials for an arbitrary set of domains.' }
          operations:
            - name: Create
              doc: { brief: 'Creates a new profile.' }
              static: true
              return: { name: Profile, type: Everbase::CoreSystem::Profile }
            - name: Open
              doc: { brief: 'Opens an existing profile.' }
              static: true
              return: { name: Profile, type: Everbase::CoreSystem::Profile }
              params:
                - { name: ProfileId, type: Everbase::Uuid }
            - name: GetPrimary
              doc: { brief: 'Returns the primary profile, which can be used e.g. for desktop applications.' }
              static: true
              return: { name: Profile, type: Everbase::CoreSystem::Profile }
            - name: GetAll
              doc: { brief: 'Returns a set of profile identifiers of the local device.' }
              static: true
              return: { name: Ids, type: Everbase::Set<Everbase::CoreSystem::Profile> }
            - name: Erase
              doc: { brief: 'Erases the profile.', more: 'Once the profile is erased, all subsequent calls to that object fail. In case this is the primary profile, the operation will fail.' }
            - name: GetId
              doc: { brief: 'Returns the identifier of the profile.' }
              return: { name: Id, type: Everbase::Uuid }
              synchronous: true

        - name: Session
          nodetype: class
          doc: { brief: 'A session defines the current environment, e.g. the currently active profile. A session is a lightweight object with minimal initialization cost. Session follows a stack semantic. The most recent session is the current session for all operations.', more: 'Per default a session using the primary profile is on top of the stack.' }
          operations:
            - name: Begin
              doc: { brief: 'Starts a new session using the provided profile. The session will be pushed on top of the session stack.' }
              static: true
              synchronous: true
              return: { name: Profile, type: Everbase::CoreSystem::Session }
              params:
                - { name: Profile, type: Everbase::CoreSystem::Profile }
            - name: End
              doc: { brief: 'Ends the current session. In case the session is not on the top of the session stack, all sessions stacked on top of this session will be closed too.', more: 'Once the session is invalidated, all subsequent calls to that object fail.' }
              synchronous: true

    #primitives

    - name: Byte
      nodetype: primitive
      primitivetype: byte

    - name: UInt32
      nodetype: primitive
      primitivetype: uint32

    - name: UInt64
      nodetype: primitive
      primitivetype: uint64

    - name: Float
      nodetype: primitive
      primitivetype: float

    - name: Boolean
      nodetype: primitive
      primitivetype: bool

    - name: Timestamp
      nodetype: primitive
      primitivetype: timestamp

    - name: String
      nodetype: primitive
      primitivetype: string

    - name: Uuid
      nodetype: primitive
      primitivetype: uuid

    - name: Buffer
      nodetype: primitive
      primitivetype: buffer

    - name: ConstBuffer
      nodetype: primitive
      primitivetype: const-buffer

    # containers

    - name: Vector
      nodetype: container
      containertype: vector

    - name: List
      nodetype: container
      containertype: list

    - name: Set
      nodetype: container
      containertype: set

























